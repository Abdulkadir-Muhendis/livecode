bundle revdb
	import ../libexternal
	support-ppc 10.3.9
	support-386 10.4.0
	define _MACOSX
	include ../libexternal/include
	compile-c++ src/revdb.cpp
	compile-c++ src/database.cpp
	compile-c++ src/osxsupport.cpp
	compile-c++ src/dbdrivercommon.cpp
	compile-plist rsrc/revdb-Info.plist
	link-framework Carbon
	link-library external
	output revdb

dylib server-revdb
	import ../libexternal
	support-ppc 10.4.0
	support-386 10.4.0
	define _MACOSX
	define _SERVER
	define _MAC_SERVER
	include ../libexternal/include
	compile-c++ src/revdb.cpp
	compile-c++ src/database.cpp
	compile-c++ src/osxsupport.cpp
	compile-c++ src/dbdrivercommon.cpp
	link-framework CoreServices
	link-library external
	output server-revdb

bundle dbsqlite
	import ../libsqlite
	import ../libexternal
	support-ppc 10.3.9
	support-386 10.4.0
	define _MACOSX
	enable c++-exceptions
	include ../libsqlite/include
	include ../libexternal/include
	compile-c++ src/dbdrivercommon.cpp
	compile-c++ src/database.cpp
	compile-c++ src/dbsqliteapi.cpp
	compile-c++ src/sqlite_connection.cpp
	compile-c++ src/sqlite_cursor.cpp
	compile-plist rsrc/dbsqlite-Info.plist
	link-framework CoreServices
	link-library sqlite
	link-library sqlitedataset
	link-library external
	output dbsqlite

dylib server-dbsqlite
	import ../libsqlite
	import ../libexternal
	support-ppc 10.3.9
	support-386 10.4.0
	define _MACOSX
	enable c++-exceptions
	include ../libsqlite/include
	include ../libexternal/include
	compile-c++ src/dbdrivercommon.cpp
	compile-c++ src/database.cpp
	compile-c++ src/dbsqliteapi.cpp
	compile-c++ src/sqlite_connection.cpp
	compile-c++ src/sqlite_cursor.cpp
	link-framework CoreServices
	link-library sqlite
	link-library sqlitedataset
	link-library external
	output server-dbsqlite

bundle dbmysql
	import ../libmysql
	import ../libz
	support-ppc 10.3.9
	support-386 10.4.0
	define _MACOSX
	include ../libexternal/include
	include ../libmysql/include
	include ../libz/include
	compile-c++ src/dbdrivercommon.cpp
	compile-c++ src/database.cpp
	compile-c++ src/dbmysqlapi.cpp
	compile-c++ src/mysql_connection.cpp
	compile-c++ src/mysql_cursor.cpp
	compile-plist rsrc/dbmysql-Info.plist
	link-library mysql
	link-library z
	link-library crypto
	link-library ssl
	output dbmysql

dylib server-dbmysql
	import ../libmysql
	import ../libz
	support-ppc 10.3.9
	support-386 10.4.0
	define _MACOSX
	include ../libexternal/include
	include ../libmysql/include
	include ../libz/include
	compile-c++ src/dbdrivercommon.cpp
	compile-c++ src/database.cpp
	compile-c++ src/dbmysqlapi.cpp
	compile-c++ src/mysql_connection.cpp
	compile-c++ src/mysql_cursor.cpp
	link-library mysql
	link-library z
	link-library crypto
	link-library ssl
	output server-dbmysql

bundle dbpostgresql
	import ../libpq
	support-ppc 10.3.9
	support-386 10.4.0
	define _MACOSX
	include ../libexternal/include
	include ../libpq/include
	compile-c++ src/dbdrivercommon.cpp
	compile-c++ src/database.cpp
	compile-c++ src/dbpostgresqlapi.cpp
	compile-c++ src/postgresql_connection.cpp
	compile-c++ src/postgresql_cursor.cpp
	compile-plist rsrc/dbpostgresql-Info.plist
	link-library pq
	output dbpostgresql

dylib server-dbpostgresql
	import ../libpq
	support-ppc 10.3.9
	support-386 10.4.0
	define _MACOSX
	include ../libexternal/include
	include ../libpq/include
	compile-c++ src/dbdrivercommon.cpp
	compile-c++ src/database.cpp
	compile-c++ src/dbpostgresqlapi.cpp
	compile-c++ src/postgresql_connection.cpp
	compile-c++ src/postgresql_cursor.cpp
	link-library pq
	output server-dbpostgresql

bundle dbodbc
	import ../libiodbc
	import ../libexternal
	support-ppc 10.3.9
	support-386 10.4.0
	define _MACOSX
	include ../libexternal/include
	include ../libiodbc/include
	compile-c++ src/dbdrivercommon.cpp
	compile-c++ src/database.cpp
	compile-c++ src/dbodbcapi.cpp
	compile-c++ src/odbc_connection.cpp
	compile-c++ src/odbc_cursor.cpp
	compile-plist rsrc/dbodbc-Info.plist
	link-framework Carbon
	link-library iodbc
	link-library external
	output dbodbc

dylib server-dbodbc
	import ../libiodbc
	import ../libexternal
	support-ppc 10.3.9
	support-386 10.4.0
	define _MACOSX
	include ../libexternal/include
	include ../libiodbc/include
	compile-c++ src/dbdrivercommon.cpp
	compile-c++ src/database.cpp
	compile-c++ src/dbodbcapi.cpp
	compile-c++ src/odbc_connection.cpp
	compile-c++ src/odbc_cursor.cpp
	link-framework CoreServices
	link-library iodbc
	link-library external
	output server-dbodbc

bundle dboracle
	import ../libiodbc
	import ../libexternal
	support-ppc 10.3.9
	support-386 10.4.0
	define _MACOSX
	include-kit oracle
	include ../libexternal/include
	compile-c++ src/dbdrivercommon.cpp
	compile-c++ src/database.cpp
	compile-c++ src/dboracleapi.cpp
	compile-c++ src/oracle_connection.cpp
	compile-c++ src/oracle_cursor.cpp
	compile-plist rsrc/dboracle-Info.plist
	link-framework Carbon
	link-library clntsh
	link-library external
	output dboracle

dylib server-dboracle
	import ../libiodbc
	import ../libexternal
	support-ppc 10.3.9
	support-386 10.4.0
	define _MACOSX
	include-kit oracle
	include ../libexternal/include
	compile-c++ src/dbdrivercommon.cpp
	compile-c++ src/database.cpp
	compile-c++ src/dboracleapi.cpp
	compile-c++ src/oracle_connection.cpp
	compile-c++ src/oracle_cursor.cpp
	link-framework Carbon
	link-library clntsh
	link-library external
	output server-dboracle

aggregate all-revdb
	reference revdb
	reference dbsqlite
	reference dbmysql
	reference dbpostgresql
	reference dbodbc
	reference dboracle

aggregate all-server-revdb
	reference server-revdb
	reference server-dbsqlite
	reference server-dbmysql
	reference server-dbpostgresql
	reference server-dbodbc
	reference server-dboracle

